<!DOCTYPE html5>
<html>
    <head>
        <style>
            .post{
                border: 1px black solid;
                border-radius: 2px;
                float: left;
                width: 200px;
                height: 200px;
                overflow: hidden;
                box-sizing: border-box;
                padding: 12px;
                margin: 12px;
            }

            .post:hover{
                box-shadow: 1px 2px 3px rgba(0,0,0,0.4);
                cursor: pointer;
            }
        </style>
        <script>
            "use strict";
            function init(){
                // get json and stuff when submit is clicked
                document.querySelector("#submit").onclick = function(){
                    var req = new XMLHttpRequest();
                    req.addEventListener ("load", blogLoad);
                    req.open("GET", "http://" + window.location.host + "/blog?blog=" + document.querySelector("#blog").value);
                    req.send();
                }

                function blogLoad(e){
                    var results = JSON.parse(e.target.response);
                    
                    // create our divs and stuff to select
                    var resultHTML = document.querySelector("#selection");
                    resultHTML.innerHTML = "";

                    // loop through our results
                    for (var i = 0; i < results.length; i++){

                        // assign current result
                        var result;
                        result = results[i];

                        // initialize our current HTML
                        var html = "";

                        // begin building post
                        html += "<div class='post'>";

                        // some posts are title only, check for that
                        console.dir(result);
                        var body = (result.body == "" ? result.title : result.body);
                        html += "<p>" + body + "</p>";
                        html += "</div>";
                        resultHTML.innerHTML += html;
                    }
                }
            }

            window.onload = init;
        </script>
    </head>
    <body>
        <input id="blog" type="text" placeholder="blog name"></input>
        <div id="submit">submit</div>
        <div id="selection"></div>
    </body>
</html>